!function(e){"use strict";e.IOWA=e.IOWA||{},e.addEventListener("resize",function(){IOWA.Util.resizeRipple(IOWA.Elements.Ripple)})}(window),window.IOWA=window.IOWA||{},IOWA.Util=IOWA.Util||function(){"use strict";function e(e,t,n){if(e>=n)return 0;if(n>=t)return 1;var a=(n-e)/(t-e);return a*a*(3-2*a)}function t(t,n,a){var r=n||1,o=IOWA.Elements.ScrollContainer,i=performance.now(),s=i+r,l=o.scrollTop,c=t.getBoundingClientRect().top;if(0===c)return void(a&&a());var d=function(t){s>t&&requestAnimationFrame(d);var n=e(i,s,t),r=Math.round(l+c*n);o.scrollTop=r,1===n&&a&&a()};d(i)}function n(){return/(iPhone|iPad|iPod)/gi.test(navigator.platform)}function a(){var e=navigator.userAgent;return/Safari/gi.test(e)&&!/Chrome/gi.test(e)}function r(){var e=navigator.userAgent;return/Trident/gi.test(e)}function o(){var e=navigator.userAgent;return/Firefox/gi.test(e)}function i(){return location.href.substring(0,location.href.lastIndexOf("/")+1)}var s=function(e){var t=e.parentNode.getBoundingClientRect(),n=Math.floor(Math.sqrt(t.width*t.width+t.height*t.height));return e.style.width=2*n+"px",e.style.height=2*n+"px",e.style.left=-n+"px",e.style.top=-n+"px",t};return{isFF:o,isIE:r,isIOS:n,isSafari:a,supportsHTMLImports:"import"in document.createElement("link"),smoothScroll:t,getStaticBaseURL:i,resizeRipple:s}}(),IOWA.PageAnimation=function(){function e(e,t){return t.fill="forwards",new Animation(e,[{opacity:1},{opacity:0}],t)}function t(e,t){return t.fill="forwards",new Animation(e,[{opacity:0},{opacity:1}],t)}function n(){var t=IOWA.Elements.Main.querySelector(".slide-up"),n=IOWA.Elements.Main.querySelector(".slide-up-delay"),a={transform:"translate(0, 0)",opacity:1},r={transform:"translate(0, "+f+")",opacity:0};return new AnimationGroup([new Animation(t,[a,r],A),new Animation(n,[a,r],h),e(IOWA.Elements.MastheadMeta,h),e(IOWA.Elements.IOLogoLarge,h),e(IOWA.Elements.Footer,{duration:0})])}function a(){var e=IOWA.Elements.Main.querySelector(".slide-up"),n=IOWA.Elements.Main.querySelector(".slide-up-delay"),a={transform:"translate(0, "+f+")",opacity:0},r={transform:"translate(0, 0)",opacity:1};return new AnimationGroup([new Animation(e,[a,r],h),new Animation(n,[a,r],A),t(IOWA.Elements.Footer,A)])}function r(){return new Animation(IOWA.Elements.Nav,[{transform:"translateY(0)"},{transform:"translateY(-100%)"}],h)}function o(){return new Animation(IOWA.Elements.Nav,[{transform:"translateY(-100%)"},{transform:"translateY(0)"}],h)}function i(e,t,n,a,r,o){var i="translate3d("+t+"px,"+n+"px, 0)",s={transform:i+" scale(0)",opacity:o?.5:1,backgroundColor:r},l={transform:i+" scale(1)",opacity:o?0:1,backgroundColor:r},c=new Animation(e,[s,l],{duration:a,fill:"forwards"});return c}function s(){return new AnimationGroup([a(),t(IOWA.Elements.MastheadMeta,h)],h)}function l(){var e=new AnimationGroup([a(),t(IOWA.Elements.MastheadMeta,h),t(IOWA.Elements.IOLogoLarge,h)],h);return e}function c(t,n,a,o,s){var l=t.querySelector(".ripple__content"),c=IOWA.Util.resizeRipple(l);l.style.backgroundColor=s,l.parentNode.style.zIndex=2;var d=IOWA.Elements.Masthead.getBoundingClientRect(),u=d.width/c.width,m=d.height/c.height,p="scale("+u+", "+m+")",g="translate3d("+-c.left+"px,"+-c.top+"px, 0)";t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0";var f=new Animation(t,[{transform:"translate3d(0, 0, 0) scale(1)"},{transform:[g,p].join(" ")}],{duration:o,fill:"forwards"}),A=IOWA.Elements.Main.querySelector(".slide-up-delay"),v=new AnimationGroup([i(l,n-c.left,a-c.top,o),f,r(),e(A,h)]);return new AnimationSequence([v,e(IOWA.Elements.Ripple,{duration:0}),e(IOWA.Elements.IOLogoLarge,{duration:0}),e(IOWA.Elements.Footer,{duration:0}),e(IOWA.Elements.MastheadMeta,{duration:0})])}function d(){return new AnimationGroup([l(),o()],h)}function u(e,t){var n=document.timeline.play(e);t&&(n.onfinish=function(){t()})}var m=400,p=200,g="cubic-bezier(0.4, 0, 0.2, 1)",f="100px",h={duration:m,easing:g,fill:"forwards"},A={duration:m,delay:p,easing:g,fill:"forwards"};return{elementFadeOut:e,elementFadeIn:t,contentSlideOut:n,contentSlideIn:a,pageSlideIn:l,pageCardTakeoverOut:c,pageCardTakeoverIn:d,pageFirstRender:s,ripple:i,play:u}}(),IOWA.Elements=function(){"use strict";var e=function(){var e=document.querySelector("io-logo");e.addEventListener("io-logo-animation-done",function(){var e=function(){window.location.search.indexOf("experiment")>-1&&IOWA.Elements.FAB.onFabClick()};IOWA.PageAnimation.play(IOWA.PageAnimation.pageFirstRender(),function(){IOWA.Elements.Template.fire("page-transition-done"),e(),IOWA.ServiceWorkerRegistration.register()})});var t=document.querySelector(".io-main"),n=document.querySelector("core-drawer-panel");n.addEventListener("core-activate",function(){this.closeDrawer()});var a=document.querySelector(".masthead"),r=a.querySelector(".masthead-meta"),o=a.querySelector(".io-logo.large"),i=a.querySelector("#navbar"),s=i.querySelector("paper-tabs"),l=document.getElementById("drawer-menu"),c=a.querySelector("experiment-fab-container"),d=document.querySelector("footer"),u=document.getElementById("toast"),m=document.createElement("i18n-msg"),p=a.querySelector(".masthead__ripple__content");IOWA.Util.resizeRipple(p),IOWA.Elements.Drawer=n,IOWA.Elements.I18n=m,IOWA.Elements.Masthead=a,IOWA.Elements.MastheadMeta=r,IOWA.Elements.Main=t,IOWA.Elements.Nav=i,IOWA.Elements.DrawerMenu=l,IOWA.Elements.NavPaperTabs=s,IOWA.Elements.Ripple=p,IOWA.Elements.FAB=c,IOWA.Elements.Toast=u,IOWA.Elements.IOLogo=e,IOWA.Elements.IOLogoLarge=o,IOWA.Elements.Footer=d},t=function(){var t=document.getElementById("t");t.pages={},t.selectedPage=IOWA.Router.getPageName(window.location.pathname),t.fullscreenVideoActive=!1,t.photoGalleryActive=!1,t.pageTransitionDone=!1,t.rippleColors={"bg-cyan":"#00BCD4","bg-medium-grey":"#CFD8DC","bg-dark-grey":"#455A64"},t.pages={faq:{mastheadBgClass:"bg-cyan",hasBeenLoaded:!1,title:"FAQ"},form:{mastheadBgClass:"bg-dark-grey",hasBeenLoaded:!1,title:"2015 I/O Extended event"},schedule:{mastheadBgClass:"bg-cyan",hasBeenLoaded:!1,title:"Schedule"},home:{mastheadBgClass:"bg-medium-grey",hasBeenLoaded:!1,title:"Google I/O"},about:{mastheadBgClass:"bg-dark-grey",hasBeenLoaded:!1,galleryOpen:!1,title:"About I/O"},onsite:{mastheadBgClass:"bg-dark-grey",hasBeenLoaded:!1,title:"Attend onsite"},offsite:{mastheadBgClass:"bg-cyan",hasBeenLoaded:!1,title:"Attend offsite"},registration:{mastheadBgClass:"bg-cyan",hasBeenLoaded:!1,title:"Registration"}},t.mastheadBgClass=t.pages[t.selectedPage].mastheadBgClass,t.navBgClass=t.mastheadBgClass,t.toggleVideoOverlayNav=function(){var e=document.querySelector(".navbar__overlay--video");e.classList.toggle("active")},t.closeVideoCard=function(){this.cardVideoTakeover(this.currentCard,!0),this.toggleVideoOverlayNav()},t.cardVideoTakeover=function(e,t){if(e){var n=t||!1,a=e.querySelector(".card__photo"),r=document.querySelector(".fullvideo__container"),o=r.querySelector(".fullvideo__container google-youtube"),i=r.querySelector(".fullvideo_thumbnail"),s=e.querySelector(".play__button"),l=a.getBoundingClientRect(),c=document.documentElement.clientWidth,d=document.documentElement.clientHeight,u=l.width/c,m=l.height/d,p=l.top+window.scrollY;o.pause();var g=s.animate([{opacity:1},{opacity:0}],{duration:350,iterations:1,fill:"forwards",easing:"cubic-bezier(0,0,0.21,1)",direction:n?"reverse":"normal"});g.onfinish=function(){var e="translate("+l.left+"px, "+p+"px) scale("+u+", "+m+")";n?i.classList.remove("fadeout"):r.style.transform=r.style.webkitTransform=e,r.hidden=!1;var t=r.animate([{transform:e},{transform:"translate(0, 0) scale(1)"}],{duration:400,direction:n?"reverse":"normal",iterations:1,fill:"forwards",easing:"cubic-bezier(0.4,0,0.2,1)"});t.onfinish=function(){n?(this.fullscreenVideoActive=!1,this.currentCard=null):(i.classList.add("fadeout"),this.toggleVideoOverlayNav())}.bind(this)}.bind(this)}},t.playVideo=function(e,t,n){this.currentCard=n,this.fullscreenVideoActive=!0,IOWA.Analytics.trackEvent("link","click",n.getAttribute("data-track-link")),this.async(function(){this.cardVideoTakeover(this.currentCard)})},t.openShareWindow=function(e,t,n){e.preventDefault();var a=n.getAttribute("data-share-type"),r=600,o=600,i=null;switch(a){case"fb":o=229,i="https://www.facebook.com/sharer.php?u="+encodeURIComponent(location.href)+"&t="+encodeURIComponent(document.title);break;case"gplus":o=348,r=512,i="https://plus.google.com/share?url="+encodeURIComponent(location.href)+"&hl="+encodeURIComponent(document.documentElement.lang);break;case"twitter":o=253;var s=document.getElementById("share-text");i="https://twitter.com/intent/tweet?text="+encodeURIComponent(s.textContent||"Google I/O 2015");break;default:return}var l="menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height="+o+",width="+r;window.open(i,"share",l)},t.backToTop=function(e){e.preventDefault(),IOWA.Util.smoothScroll(IOWA.Elements.Nav,250)},t.addEventListener("template-bound",e),t.addEventListener("page-transition-done",function(){this.pageTransitionDone=!0,IOWA.Elements.NavPaperTabs.style.pointerEvents=""}),t.addEventListener("page-transition-start",function(){this.pageTransitionDone=!1,IOWA.Elements.NavPaperTabs.style.pointerEvents="none"}),IOWA.Elements.Template=t,IOWA.Elements.ScrollContainer=document.querySelector("core-drawer-panel [main]")};return{init:t}}(),IOWA.ServiceWorkerRegistration=function(){"use strict";var e=!1,t=function(){e||(e=!0,"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js",{scope:"./"}).then(function(e){"function"==typeof e.update&&e.update(),e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":if(navigator.serviceWorker.controller){var e=function(){window.location.reload()};IOWA.Elements.Toast.showMessage("Tap here or refresh the page for the latest content.",e)}else IOWA.Elements.Toast.showMessage("Caching complete! Future visits will work offline.");break;case"redundant":throw"The installing service worker became redundant."}}}})["catch"](function(e){IOWA.Analytics.trackError("navigator.serviceWorker.register() error",e),console.error("Service worker registration failed:",e)}))};return navigator.serviceWorker&&navigator.serviceWorker.controller&&t(),{register:t}}(),IOWA.History=function(e){var t=e.history,n=e.history.pushState;return t.pushState=function(a,r,o){"function"==typeof t.onpushstate&&t.onpushstate({state:a}),n.apply(t,[a,r,o]);var i=new Event("popstate");i.state=a,e.dispatchEvent(i)},t}(window),IOWA.Router=function(){"use strict";function e(e,t,n){for(var a=null,r=t;!a;)r=r.parentNode,r.classList.contains("card__container")&&(a=r);IOWA.PageAnimation.play(IOWA.PageAnimation.pageCardTakeoverOut(a,e.pageX,e.pageY,300,n),function(){IOWA.History.pushState({path:t.pathname},"",t.href)})}function t(e,t,n,a,r){var o=r?300:600,i=IOWA.PageAnimation.ripple(IOWA.Elements.Ripple,e.pageX,e.pageY,o,a,r),s=[i,IOWA.PageAnimation.contentSlideOut()];if(!r){var l=new Animation(IOWA.Elements.Masthead,[{backgroundColor:n},{backgroundColor:a}],{duration:300,delay:0,fill:"forwards"});s.push(l)}var c=new AnimationGroup(s);IOWA.PageAnimation.play(c,function(){IOWA.History.pushState({path:t.pathname},"",t.href)})}function n(n,a,r,o){n.preventDefault(),n.stopPropagation();var i=IOWA.Elements.Template,s=i.pages[o]&&i.pages[o].mastheadBgClass,l=i.pages[r].mastheadBgClass;i.navBgClass=s;var c=l===s,d=i.rippleColors[l],u=c?"#fff":i.rippleColors[s];r!==o&&(IOWA.Elements.Template.fire("page-transition-start"),a.hasAttribute("data-anim-ripple")?(f="masthead-ripple-transition",t(n,a,d,u,c)):a.hasAttribute("data-anim-card")?(f="hero-card-transition",e(n,a,u)):(f="",IOWA.History.pushState({path:a.pathname},"",a.href)))}function a(e){if(!e.metaKey&&!e.ctrlKey){h=!0;for(var t=0;t<e.path.length;++t){var a=e.path[t];if("a"===a.localName){var r=c(location.pathname),o=c(a.pathname);if(a.hasAttribute("data-track-link")&&IOWA.Analytics.trackEvent("link","click",a.getAttribute("data-track-link")),a.target)return;return r===o?void e.preventDefault():void(a.hasAttribute("data-ajax-link")?(m("unload",r),n(e,a,r,o)):f="no-transition")}}}}function r(e){var t=e+"?partial";Polymer["import"]([t],function(){var n=document.querySelector('link[rel="import"][href="'+t+'"]');if(!n||n["import"]){if(IOWA.Util.isFF()||IOWA.Util.isIE()){var a=document.querySelector("#template-"+e+"-content");if(!a){var r=n["import"].querySelector('[data-ajax-target-template="template-content-container"]'),i=r.content.querySelectorAll("script");Array.prototype.forEach.call(i,function(e){o(e)})}}u(e,n["import"])}})}function o(e){var t=document.createElement("script");t.text=e.text||e.textContent||e.innerHTML,IOWA.Util.isIE()?(document.body.appendChild(t),document.body.removeChild(t)):e.parentNode.replaceChild(t,e)}function i(e){for(var t=0;t<e.length;t++){var n=e[t],a=document.getElementById(n.getAttribute("data-ajax-target-template"));a&&a.setAttribute("ref",n.id)}}function s(e,t){i(t);var n=IOWA.Elements.Template;n.selectedPage=e,IOWA.Elements.DrawerMenu.selected=e;var a=n.pages[e];document.body.id="page-"+e,document.title=a.title||"Google I/O 2015";var r=n.pages[n.selectedPage],o=n.rippleColors[r.mastheadBgClass],s=n.rippleColors[a.mastheadBgClass],l=a.mastheadBgClass;n.navBgClass=l,IOWA.Elements.Masthead.className=IOWA.Elements.Masthead.className.replace(g," "+l+" "),IOWA.PageAnimation.play(new Animation(IOWA.Elements.Masthead,[{backgroundColor:o},{backgroundColor:s}],{duration:f?0:300,fill:"forwards"})),IOWA.PageAnimation.play(IOWA.PageAnimation.elementFadeOut(IOWA.Elements.Ripple,{duration:0})),IOWA.Elements.ScrollContainer.scrollTop=0,IOWA.Elements.Template.async(function(){var e;e="hero-card-transition"===f?IOWA.PageAnimation.pageCardTakeoverIn:IOWA.PageAnimation.pageSlideIn,IOWA.PageAnimation.play(e(),function(){IOWA.Elements.Template.fire("page-transition-done")}),f=""})}function l(e){var t=document.querySelectorAll(".js-ajax-"+e);if(f)"no-transition"!==f&&s(e,t);else{var n=IOWA.PageAnimation.contentSlideOut();IOWA.PageAnimation.play(n,s.bind(null,e,t))}}function c(e){return e.split("/").pop()||"home"}function d(){r(c(window.location.pathname))}function u(e,t){m("load",e);for(var n=t.querySelectorAll(".js-ajax-template"),a=0;a<n.length;a++){var r=n[a];document.getElementById(r.id)||document.body.appendChild(r)}l(e)}function m(e,t){var n=IOWA.Elements.Template.pages[t];n&&n[e]&&n[e]()}function p(){window.addEventListener("popstate",function(e){var t=IOWA.Elements.Template.selectedPage,n=c(window.location.pathname);h||m("unload",t),h=!1,e.state&&e.state.fromHashChange&&n===t||(document.title=IOWA.Elements.Template.pages[n].title||"Google I/O 2015",IOWA.Analytics.trackPageView(e.state&&e.state.path),d())});var e=IOWA.Util.isIOS()?"touchstart":"click";document.addEventListener(e,a)}var g=/(\s|^)bg-[a-z-]+(\s|$)/,f=null,h=!1;return{init:p,getPageName:c,animatePageIn:l}}(),IOWA.Request=function(){"use strict";var e=function(e,t,n){var a,r=!0;if("serviceWorker"in navigator&&navigator.serviceWorker.controller){var o=new XMLHttpRequest;o.open("GET",e),o.setRequestHeader("X-Cache-Only","true"),o.onload=function(){this.status<400&&r&&this.response&&(a=this.response,t(JSON.parse(a)))},o.send()}var i=new XMLHttpRequest;i.open("GET",e),i.setRequestHeader("X-Cache-Only","false"),i.onload=function(){this.status<400&&this.response!=a&&(r=!1,n(JSON.parse(this.response)))},i.send()};return{cacheThenNetwork:e}}(),window.IOWA=window.IOWA||{},IOWA.Picasa=function(){"use strict";function e(e,t){var n=e||1,a=new XMLHttpRequest;a.open("GET",o+"&start-index="+n),a.onload=function(){if(200==this.status){var e=JSON.parse(this.response).data.items;t(e)}},a.send()}var t="111395306401981598462",n="6029456067262589905",a=document.documentElement.lang,r=document.documentElement.clientWidth,o="https://picasaweb.google.com/data/feed/api/user/"+t+"/albumid/"+n+"?alt=jsonc&kind=photo&hl="+a+"&imgmax="+Math.min(r*(window.devicePixelRatio||1),1440)+"&max-results=5000&v=2";return{fetchPhotos:e}}(),function(){function e(){IOWA.Elements.init(),IOWA.Router.init()}window.addEventListener("core-media-change",function(e){if("mq-phone"===e.target.id){var t=e.detail.matches;IOWA.Elements.Drawer.querySelector("[drawer]").hidden=!t,IOWA.Elements.Drawer.disableSwipe=!t}}),window.addEventListener("keydown",function(e){if(27===e.keyCode){var t=IOWA.Elements.Template;t.photoGalleryActive&&t.togglePhotoGallery(),IOWA.Elements.Template.fullscreenVideoActive&&(t.closeVideoCard&&t.closeVideoCard(),t.closeVideoSection&&t.closeVideoSection())}}),window.addEventListener("resize",function(){IOWA.Util.resizeRipple(IOWA.Elements.Ripple),IOWA.Elements.Drawer.closeDrawer()}),IOWA.Util.supportsHTMLImports?e():document.addEventListener("polymer-ready",e)}();